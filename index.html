<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="@jayson - 🤷‍♂️" />
    <meta property="og:description" content="the world is yours" />
    <meta property="og:image" content="https://jaysons.lol/ref/misc/batman.png" />
    <meta property="og:url" content="https://jaysons.lol" />
    <meta property="theme-color" content="#1b1b1b">
    <title>@jayson</title>
    <link rel="stylesheet" href="ref/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        .volume-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 100;
        }

        .volume-button {
            font-size: 1.5rem;
            cursor: pointer;
            color: white;
        }

        .volume-slider {
            display: none;
            width: 150px;
            background: #333;
            border-radius: 5px;
            padding: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        .volume-slider input[type="range"] {
            width: 100%;
            background: #555;
            appearance: none;
            outline: none;
            cursor: pointer;
        }

        .volume-slider input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            background: white;
            border-radius: 50%;
            width: 12px;
            height: 12px;
            cursor: pointer;
        }

        .volume-control:hover .volume-slider {
            display: block;
        }
    </style>
</head>

<body>
    <div class="overlay" id="overlay" onclick="handleEnter()">
        <div class="proceed-button" id="proceedButton">click</div>
    </div>

    <div class="volume-control">
        <i class="fas fa-volume-up volume-button" id="volumeButton"></i>
        <div class="volume-slider">
            <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
        </div>
    </div>

    <script>
        let hasClicked = false;
        let isMuted = false;
        let audio1, audio2;

        function handleEnter() {
            if (hasClicked) return;
            hasClicked = true;

            const overlay = document.getElementById('overlay');
            const proceedButton = document.getElementById('proceedButton');

            proceedButton.classList.add('hide-proceed');
            setTimeout(() => {
                overlay.style.display = 'none';
            }, 1000);

            playAudioSequence();
        }

        function playAudioSequence() {
            audio1 = new Audio('ref/misc/audio1.mp3');
            audio2 = new Audio('ref/misc/audio2.mp3');

            audio1.volume = 0.5;
            audio2.volume = 0.5;
            audio2.loop = true;

            audio1.play();
            audio1.addEventListener('ended', () => {
                audio2.play();
            });
        }

        const volumeButton = document.getElementById('volumeButton');
        const volumeSlider = document.getElementById('volumeSlider');

        volumeButton.addEventListener('click', () => {
            isMuted = !isMuted;
            updateVolumeState();
        });

        volumeSlider.addEventListener('input', (e) => {
            const volume = parseFloat(e.target.value);
            audio1.volume = volume;
            audio2.volume = volume;
        });

        function updateVolumeState() {
            if (isMuted) {
                audio1.volume = 0;
                audio2.volume = 0;
                volumeButton.classList.replace('fa-volume-up', 'fa-volume-mute');
            } else {
                const volume = parseFloat(volumeSlider.value);
                audio1.volume = volume;
                audio2.volume = volume;
                volumeButton.classList.replace('fa-volume-mute', 'fa-volume-up');
            }
        }
    </script>
</body>

</html>
